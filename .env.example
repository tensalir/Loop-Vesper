# =============================================================================
# Loop-Vesper Environment Configuration
# =============================================================================
# Copy this file to .env.local and fill in your values:
#   cp .env.example .env.local
#
# NEVER commit .env.local with real credentials to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase Configuration (Required for Authentication)
# -----------------------------------------------------------------------------
# Get these from: Supabase Dashboard → Settings → API
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# -----------------------------------------------------------------------------
# Database Connection (Required)
# -----------------------------------------------------------------------------
# Get from: Supabase Dashboard → Settings → Database → Connection String
# For Vercel/serverless: Use Transaction pooler (port 6543) with ?pgbouncer=true
# For local development: Can use direct connection (port 5432)
DATABASE_URL=postgresql://postgres.[project-ref]:[YOUR-PASSWORD]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1

# -----------------------------------------------------------------------------
# Application URL
# -----------------------------------------------------------------------------
# Local development
NEXT_PUBLIC_APP_URL=http://localhost:3000
# For production (Vercel), set this to your deployed URL:
# NEXT_PUBLIC_APP_URL=https://your-app.vercel.app

# -----------------------------------------------------------------------------
# AI Model API Keys
# -----------------------------------------------------------------------------

# Google Gemini API Key (for Nano Banana and Veo models)
# Get from: https://aistudio.google.com/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# FAL.ai API Key (for Seedream v4 Edit and other FAL models)
# Get from: https://fal.ai/dashboard/keys
FAL_API_KEY=your-fal-api-key-here

# Replicate API Token (for Seedream 4)
# Get from: https://replicate.com/account/api-tokens
# Token starts with "r8_"
REPLICATE_API_TOKEN=r8_your_replicate_token_here

# -----------------------------------------------------------------------------
# Background Queue Configuration (Optional)
# -----------------------------------------------------------------------------
# Enable/disable the generation queue (set to false for legacy fire-and-forget)
GENERATION_QUEUE_ENABLED=true
GENERATION_QUEUE_BATCH_SIZE=5
GENERATION_QUEUE_LOCK_TIMEOUT_MS=60000
GENERATION_QUEUE_RETRY_DELAY_MS=30000

# -----------------------------------------------------------------------------
# Internal API Security (Recommended for Production)
# -----------------------------------------------------------------------------
# For secure server-to-server API calls (e.g., background processing)
# Generate with: openssl rand -hex 32
INTERNAL_API_SECRET=your-random-secret-string-here

# -----------------------------------------------------------------------------
# Rate Limit Configuration (Optional - Tier 3 defaults are now built-in)
# -----------------------------------------------------------------------------
# Override the default Tier 3 limits if needed.
# See: https://ai.google.dev/gemini-api/docs/rate-limits
#
# Gemini global limits (Tier 3 defaults: 1000 RPM, 50000/month)
# GEMINI_RPM=1000
# GEMINI_MONTHLY=50000
#
# Nano Banana (Gemini 2.5 Flash Image) - Tier 3 defaults: 500 RPM, 30000/month
# GEMINI_NANO_BANANA_RPM=500
# GEMINI_NANO_BANANA_MONTHLY=30000
#
# Veo 3.1 (Video) - Tier 3 defaults: 100 RPM, 5000/month
# GEMINI_VEO_RPM=100
# GEMINI_VEO_MONTHLY=5000
#
# Replicate limits (generous defaults: 100 RPM)
# REPLICATE_RPM=100
# REPLICATE_MONTHLY=10000
